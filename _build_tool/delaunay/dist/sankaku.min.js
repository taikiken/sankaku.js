/*
 inazumatv.com
 @author (at)taikiken / http://inazumatv.com
 @date 2014/06/20 - 11:55

 Copyright (c) 2011-2014 inazumatv.com, inc.

 Distributed under the terms of the MIT license.
 http://www.opensource.org/licenses/mit-license.html

 This notice shall be included in all copies or substantial portions of the Software.

 delaunay
 original: https://github.com/ironwallaby/delaunay

 hosted on
 https://github.com/taikiken/sankaku.js
*/
var Sankaku={version:"0.0.1"};
(function(s){var k=Math.abs,a=Math.min,d=Math.max,c=Math.round,e=function(){function f(h,b,g){this.a=h;this.b=b;this.c=g;var c=b.x-h.x,f=b.y-h.y,e=g.x-h.x,n=g.y-h.y,l=c*(h.x+b.x)+f*(h.y+b.y),r=e*(h.x+g.x)+n*(h.y+g.y),m=2*(c*(g.y-b.y)-f*(g.x-b.x));1E-6>k(m)?(e=a(h.x,b.x,g.x),l=a(h.y,b.y,g.y),c=0.5*(d(h.x,b.x,g.x)-e),h=0.5*(d(h.y,b.y,g.y)-l),this.x=e+c,this.y=l+h):(b=(n*l-f*r)/m,g=(c*r-e*l)/m,c=b-h.x,h=g-h.y,this.x=b,this.y=g);this.r=c*c+h*h}var b=f.prototype;b.draw=function(b){var a=this.a,c=this.b,
f=this.c;b.beginPath();b.moveTo(a.x,a.y);b.lineTo(c.x,c.y);b.lineTo(f.x,f.y);b.closePath()};b.centroid=function(){return{x:c((this.a.x+this.b.x+this.c.x)/3),y:c((this.a.y+this.b.y+this.c.y)/3)}};return f}();s.Sankaku=function(){function a(){throw Error("Sankaku can't create instance.");}a.byX=function(b,a){return a.x-b.x};a.dedup=function(b){var a=b.length,c,g,f,d,e;a:for(;a;)for(g=b[--a],c=b[--a],f=a;f;)if(e=b[--f],d=b[--f],c===d&&g===e||c===e&&g===d){b.splice(a,2);b.splice(f,2);a-=2;continue a}};
a.triangulate=function(b){if(3>b.length)return[];var c=a.dedup,d,g,k,p,q,n,l,r,m;b.sort(a.byX);g=b.length-1;d=b[g];k=d.x;p=b[0].x;for(n=q=d.y;g--;)d.y<q&&(q=d.y),d.y>n&&(n=d.y);l=p-k;r=n-q;g=l>r?l:r;d=0.5*(p+k);l=0.5*(n+q);n=[new e({x:d-20*g,y:l-g,__sentinel:!0},{x:d,y:l+20*g,__sentinel:!0},{x:d+20*g,y:l-g,__sentinel:!0})];q=[];k=[];for(g=b.length;g--;){k.length=0;p=n.length;for(d=b[g];p--;)m=n[p],l=d.x-m.x,0<l&&l*l>m.r?(q.push(m),n.splice(p,1)):(r=d.y-m.y,l*l+r*r>m.r||(k.push(m.a,m.b,m.b,m.c,m.c,
m.a),n.splice(p,1)));c(k);for(p=k.length;p;)r=k[--p],l=k[--p],n.push(new e(l,r,d))}Array.prototype.push.apply(q,n);for(g=q.length;g--;)b=q[g],(b.a.__sentinel||b.b.__sentinel||b.c.__sentinel)&&q.splice(g,1);return q};return a}()})(window);
(function(s){s.Sankaku.Iro=function(){function k(){throw Error("Iro can't create instance");}k.rgb2hsl=function(a,d,c){a/=255;d/=255;c/=255;var e=Math.max(a,d,c),f=Math.min(a,d,c),b,h,k;h=(e+f)/2;if(e===f)b=f=0;else{k=e-f;f=0.5<h?k/(2-e-f):k/(e+f);switch(e){case a:b=(d-c)/k+(d<c?6:0);break;case d:b=(c-a)/k+2;break;case c:b=(a-d)/k+4}b/=6}return{h:b,s:f,l:h}};k.hsl2rgb=function(a,d,c){function e(a,b,c){0>c&&(c+=1);1<c&&(c-=1);return c<1/6?a+6*(b-a)*c:0.5>c?b:c<2/3?a+(b-a)*(2/3-c)*6:a}if(0===d)c=d=
a=c;else{var f=0.5>c?c*(1+d):c+d-c*d,b=2*c-f;c=e(b,f,a+1/3);d=e(b,f,a);a=e(b,f,a-1/3)}return{r:255*c,g:255*d,b:255*a}};k.rgb2hsv=function(a,d,c){a/=255;d/=255;c/=255;var e=Math.max(a,d,c),f=Math.min(a,d,c),b,h=e-f;if(e===f)b=0;else{switch(e){case a:b=(d-c)/h+(d<c?6:0);break;case d:b=(c-a)/h+2;break;case c:b=(a-d)/h+4}b/=6}return{h:b,s:0===e?0:h/e,v:e}};k.hsv2rgb=function(a,d,c){var e,f,b,h=Math.floor(6*a),k=6*a-h;a=c*(1-d);var g=c*(1-k*d);d=c*(1-(1-k)*d);switch(h%6){case 0:e=c;f=d;b=a;break;case 1:e=
g;f=c;b=a;break;case 2:e=a;f=c;b=d;break;case 3:e=a;f=g;b=c;break;case 4:e=d;f=a;b=c;break;case 5:e=c,f=a,b=g}return{r:255*e,g:255*f,b:255*b}};k.hex2rgb=function(a){if("string"!==typeof a)return null;a=a.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(a,c,e,f){return c+c+e+e+f+f});return(a=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a))?{r:parseInt(a[1],16),g:parseInt(a[2],16),b:parseInt(a[3],16)}:null};k.rgb2hex=function(a,d,c){function e(a){a=a.toString(16);return 1===a.length?"0"+a:a}
return"#"+e(a)+e(d)+e(c)};k.int2hex=function(a){a=Math.floor(a);a=a.toString(16);if(3>a.length)for(var d=3-a.length;d;)a="0"+a,--d;return"#"+a};return k}()})(window);
